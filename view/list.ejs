<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Lost City Archive</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/favicon.png">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gray-800 text-white">
    <div class="flex justify-center mt-1">
        <div class="flex-col text-center">
            <h1 class="text-xl"><%= game.display_name %> Caches</h1>
            <a href="/">Go Back</a>
        </div>
    </div>

    <div class="flex justify-center mt-1 mb-1">
        <div class="w-3/4 relative overflow-x-auto bg-neutral-primary-soft shadow-xs rounded-xl border border-gray-600">
            <table class="w-full text-sm text-left rtl:text-right text-body">
                <thead class="bg-neutral-secondary-soft border-b border-gray-600">
                    <tr>
                        <th scope="col" class="px-6 py-3 font-medium">
                            Build
                        </th>
                        <th scope="col" class="px-6 py-3 font-medium">
                            Release Date
                        </th>
                        <th scope="col" class="px-6 py-3 font-medium">
                            News Post
                        </th>
                        <!-- <th scope="col" class="px-6 py-3 font-medium">
                            Size
                        </th> -->
                        <th scope="col" class="px-6 py-3 font-medium">
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <% for (cache of caches) { %>
                        <tr class="odd:bg-gray-700/50 even:bg-gray-600/50 border-gray-600">
                            <th scope="row" class="px-6 py-4 font-medium text-heading whitespace-nowrap">
                                <%= cache.build %>
                            </th>
                            <td class="px-6 py-4">
                                <%= cache.timestamp ? cache.timestamp.toISOString().split('T')[0] : '-' %>
                            </td>
                            <td class="px-6 py-4">
                                <%= cache.newspost ?? '-' %>
                            </td>
                            <td class="px-6 py-4 w-1/8">
                                <a href="/caches/<%= cache.id %>/cache.zip">Download</a>
                            </td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>

    <div class="flex justify-center mt-1 mb-1">
        <span class="text-xs">Database Size: <%= (stats.len / 1024 / 1024) | 0 %> MB</h1>
    </div>
</body>

</html>
