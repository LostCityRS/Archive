<%
  const iconName = typeof icon !== 'undefined' ? icon : 'file';
  const paddingClass = size === 'lg' ? 'p-4' : 'p-2';
%>

<% if (typeof href !== 'undefined' && href) { %>
<a href="<%= href %>"
	 class="flex items-center justify-between gap-2 bg-siam-800 <%= paddingClass %> rounded-md max-w-xl hover:bg-siam-900 transition-colors group focus:outline-none focus:ring-2 focus:ring-siam-300"
	 title="<%= name %>">
<% } else { %>
<div class="flex items-center justify-between gap-2 bg-siam-800 <%= paddingClass %> rounded-md max-w-xl hover:bg-siam-900 transition-colors group focus:outline-none focus:ring-2 focus:ring-siam-300">
<% } %>
	<div class="flex items-center gap-3">
		<i data-lucide="<%= iconName %>"
			 class="text-siam-300"
			 aria-hidden="true">
		</i>

		<div class="flex flex-col">
			<span class="underline-offset-2 group-hover:underline">
				<%= name %>
			</span>

			<% if (typeof timestamp !== 'undefined' && timestamp) { %>
			<span class="text-[0.75rem] text-siam-200 leading-snug">
				First Seen: <%= timestamp.toISOString().replace('T', ' ').split('.')[0] %>
				<% if (typeof timestamp2 !== 'undefined' && timestamp2 && timestamp.getTime() !== timestamp2.getTime()) { %>
					<br>
					Last Seen: <%= timestamp2.toISOString().replace('T', ' ').split('.')[0] %>
				<% } %>
			</span>
			<% } %>

			<% if (typeof crc !== 'undefined' && crc) { %>
			<span class="text-[0.7rem] text-siam-200 leading-snug">
				CRC: <%= crc %>
			</span>
			<% } %>
		</div>
	</div>

	<span class="flex items-center gap-2 px-2 text-sm text-siam-100">
		<% if (typeof fileSize !== 'undefined' && fileSize) { %>
		<span class="whitespace-nowrap">
			<%- include('_component/format_size', { bytes: fileSize }) %>
		</span>
		<% } %>

		<% if (typeof href !== 'undefined' && href) { %>
		<i data-lucide="download"
			 class="size-4"
			 aria-hidden="true">
		</i>
		<% } %>
	</span>
<% if (typeof href !== 'undefined' && href) { %>
</a>
<% } else { %>
</div>
<% } %>
